/* =========================
   Company Profile – Styling
   ========================= */

.cp-page {
  /* ==== Theme tokens ==== */
  --head-from: #e1f5df;
  --head-to:   #c0e7bd;

  /* màu xanh hệ thống */
  --accent:     #2ea043;
  --accent-600: #268c3a;

  /* để tương thích các rule dùng brand-* trước đây */
  --brand-500: var(--accent);
  --brand-600: var(--accent-600);

  /* màu cảnh báo/xóa */
  --danger: #d84b4b;

  font-size: 14px;
  line-height: 1.35;

  .page-title {
    font-size: 18px;
    font-weight: 700;
    margin: 6px 0 12px;
    color: #0f172a;
  }

  /* ===== Panel ===== */
  .panel {
    background: #fff;
    border: 1px solid #eef2f6;
    border-radius: 14px;
    box-shadow: 0 12px 24px rgba(2, 8, 20, .06);
    overflow: hidden;
  }

  .panel-head {
    padding: 10px 12px;
    background: linear-gradient(180deg, var(--head-from), var(--head-to));
    border-bottom: 1px solid #e3f1e5;
    display: flex; align-items: center; justify-content: space-between; gap: 12px;
  }

  .panel-title { font-weight: 700; color: #0f172a; }
  .toolbar     { display: flex; align-items: center; gap: 8px; }

  /* ===== Buttons ===== */
  .btn {
    height: 34px;
    padding: 0 12px;
    border: 1px solid #dbe4ee;
    border-radius: 10px;
    background: #fff;
    cursor: pointer;
    transition: .15s ease;
  }
  .btn:hover    { background: #f6f9fc; }
  .btn.small    { height: 30px; border-radius: 8px; }
  .btn.lg       { padding: 10px 14px; font-weight: 700; }
  .btn.ghost    { background: transparent; }
  .btn:disabled { opacity: .55; cursor: not-allowed; }

  /* Nút xanh hệ thống */
  .btn.primary {
    background: var(--accent);
    border-color: var(--accent);
    color: #fff;
  }
  .btn.primary:hover {
    background: var(--accent-600);
    border-color: var(--accent-600);
  }

  /* Nút Save xanh */
  .btn.btn-save {
    background: var(--accent);
    border-color: var(--accent);
    color: #fff;
  }
  .btn.btn-save:hover {
    background: var(--accent-600);
    border-color: var(--accent-600);
  }

  /* Nút đỏ (Remove) */
  .btn.danger {
    background: var(--danger);
    border-color: var(--danger);
    color: #fff;
  }
  .btn.danger:hover { filter: brightness(.95); }

  .panel-body { padding: 14px; }
  .panel-foot { padding: 10px 12px; border-top: 1px solid #eef3f7; display: flex; align-items: center; gap: 12px; }
  .muted      { color: #6b7280; }
  .spacer     { flex: 1 1 auto; }

  /* ===== Layout ===== */
  .layout { display: grid; grid-template-columns: 1.6fr 1fr; gap: 14px; }
  @media (max-width: 1080px) { .layout { grid-template-columns: 1fr; } }

  .col  { display: flex; flex-direction: column; gap: 14px; }
  .side .sticky { position: sticky; top: 10px; }

  /* ===== Group ===== */
  .group {
    border: 1px solid #edf1f6;
    border-radius: 12px;
    background: #fff;
  }
  .group-title {
    padding: 10px 12px;
    background: #f7fafc;
    border-bottom: 1px solid #edf1f6;
    font-weight: 1000;
    color: #0f172a;
    border-top-left-radius: 12px; border-top-right-radius: 12px;
  }
  .group .form-grid { padding: 12px; display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
  .col-span-2       { grid-column: 1 / -1; }
  @media (max-width: 720px) { .group .form-grid { grid-template-columns: 1fr; } }

  /* Tạo khoảng đệm rõ ràng cho phần “Report Header” */
  .group .group-content {
    padding: 12px;         /* tránh dính sát viền như feedback */
  }

  /* ===== Inputs ===== */
  .lbl { display: block; font-size: 12px; color: #64748b; margin: 0 0 6px; }
  .inp {
    width: 100%; height: 36px;
    border: 1px solid #dbe4ee; border-radius: 8px;
    padding: 0 10px; background: #fff;
  }
  .inp[readonly] { background: #f9fbfd; color: #111827; }
  .mono          { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', monospace; }

  /* ===== Logo box ===== */
  .logo-box {
    margin: 12px;
    border: 1px dashed #d6e0ea;
    border-radius: 12px;
    height: 180px;
    display: flex; align-items: center; justify-content: center;
    background: #fbfdff;     /* nền trắng nhạt */
    overflow: hidden;
  }
  .logo-box img { max-height: 100%; max-width: 100%; display: block; }
  .logo-ph     { color: #8a94a6; }

  .print-note { margin-top: 12px; padding: 12px; border: 1px solid #edf1f6; border-radius: 12px; background: #fdfefe; }
  .mt-8       { margin-top: 8px; }

  /* ===== Inline row (Remark + Color) ===== */
  .row-inline {
    display: inline-flex; gap: 8px; align-items: center; width: 100%;
  }
  .row-inline > .inp { flex: 1 1 auto; min-width: 0; }

  /* ===== Color button with overlay input[type=color] ===== */
  .color-btn-wrap {
    position: relative; display: inline-flex; align-items: center;
  }
  .color-btn-wrap .color-overlay {
    position: absolute; inset: 0; opacity: 0; cursor: pointer;
  }
  .color-btn-wrap.disabled .color-overlay { pointer-events: none; }
  /* Nút Color dùng xanh hệ thống */
  .color-btn-wrap .btn { height: 30px; }
  .color-btn-wrap .btn.primary {
    background: var(--accent);
    border-color: var(--accent);
    color: #fff;
  }
  .color-btn-wrap .btn.primary:hover {
    background: var(--accent-600);
    border-color: var(--accent-600);
  }

  /* ===== Upload overlay (Upload = xanh, Remove = đỏ) ===== */
  .upload-wrap { position: relative; display: inline-block; }
  .upload-wrap .file-overlay { position: absolute; inset: 0; opacity: 0; cursor: pointer; }
  .upload-wrap.disabled .btn,
  .upload-wrap.disabled .file-overlay { opacity: .55; cursor: not-allowed; pointer-events: none; }

  /* ===== Report Header – Quick start block ===== */
  .header-actions {
    display: flex; align-items: center; gap: 12px;
    margin: 10px 12px 0;           /* tạo khoảng cách với viền group */
    padding: 10px 12px;
    background: #f5faf3;           /* nền xanh nhạt */
    border: 1px solid #e3efde;
    border-radius: 10px;
  }
  .header-actions .hint-strong {
    color: #2f6b25; font-weight: 700;
  }

  /* ===== Toolbar (font, size, B I U, align, bullet, color) ===== */
  .report-toolbar {
    display: flex; align-items: center; gap: 8px; flex-wrap: wrap;
    margin: 8px 12px;              /* cách viền group */
  }
  .tb {
    border: 1px solid #dfe6de;
    background: #fff;
    border-radius: 8px;
    padding: 6px 10px;
    height: 32px; min-width: 32px;
    display: inline-flex; align-items: center; justify-content: center;
    cursor: pointer;
  }
  .tb:disabled { opacity: .5; cursor: not-allowed; }

  .inp.slim { height: 32px; padding: 4px 8px; }

  /* Editor area có padding để không dính viền */
  .header-editor {
    border: 1px solid #e6efe1;
    border-radius: 10px;
    background: #fff;
    min-height: 180px;
    padding: 12px;
    margin: 0 12px 12px; /* tạo khoảng cách trong group */
    white-space: pre-wrap;
    overflow: auto;
  }
  .header-editor.readonly { background: #f6f8f7; pointer-events: none; }
}

/* Chặn các backdrop ngoài ý muốn (nếu có modal của lib khác) */
:host ::ng-deep .modal,
:host ::ng-deep .modal-backdrop,
:host ::ng-deep .cdk-overlay-backdrop {
  background: transparent !important;
  opacity: 0 !important;
}
.group .group-content {
  padding: 12px; /* tránh dính sát viền */
}

/* logo box vẫn đẹp, chỉ cần margin dưới để cách nút */
.logo-box {
  margin: 0 0 12px;   /* trên 0, dưới 12px để tách khỏi hàng nút */
  border: 1px dashed #d6e0ea;
  border-radius: 12px;
  height: 180px;
  display: grid;
  place-items: center;
  background: #fbfdff;
  overflow: hidden;
}

/* hàng nút dưới logo – có padding trái/phải & khoảng cách dưới */
.logo-actions {
  display: flex;
  gap: 10px;
  /* nếu bạn KHÔNG bọc group-content, dùng: padding: 0 12px 12px; */
}

/* (đã có) – màu xanh hệ thống và đỏ xóa */
.btn.primary { background: var(--accent); border-color: var(--accent); color:#fff; }
.btn.primary:hover { background: var(--accent-600); border-color: var(--accent-600); }
.btn.danger  { background: var(--danger); border-color: var(--danger); color:#fff; }
.btn.danger:hover { filter: brightness(.95); }
/* Làm “label” trông như button và vô hiệu hóa khi không Edit */
.upload-btn {
  position: relative;
  cursor: pointer;
}
.upload-btn.disabled {
  opacity: .55;
  pointer-events: none;
}
.title-stack{ display:flex; flex-direction:column; gap:2px; }
.title-stack .title-main{ font-weight:1000; }
.title-stack .title-sub{
  font-size:12px; color:#6b7280; font-weight:400;
}
:host ::ng-deep .ql-container { border-radius: 10px; }
:host ::ng-deep .ql-toolbar   { border-radius: 10px 10px 0 0; }
.header-actions{
  display:flex; align-items:center; gap:12px;
  margin:10px 12px; padding:10px 12px;
  background:#f5faf3; border:1px solid #e3efde; border-radius:10px;
}
.header-actions .btn.primary{ background:#2ea043; border-color:#2ea043; color:#fff; }
.header-actions .btn.primary:hover{ filter:brightness(.96); }

/* Quill theme tune */
.ql-toolbar.ql-snow{
  border:1px solid #e6efe1; border-radius:10px; background:#fff; margin:0 12px 8px;
}
.ql-container.ql-snow{
  border:1px solid #e6efe1; border-radius:10px; background:#fff; margin:0 12px 12px;
}
.ql-editor{
  min-height:220px; padding:12px;
}

/* Thu nhỏ chú thích kích thước logo dưới title */
.group-title small{ font-weight:400; color:#6b7280; margin-left:6px; }
.report-hdr {
  /* Thanh Quick start cách đều khối */
  .header-actions { margin-bottom: 12px; }

  /* Quill toolbar căn GIỮA, full chiều ngang, padding đều */
  .ql-toolbar.ql-snow {
    display: flex;
    justify-content: center;   /* ⬅️ căn giữa các nút */
    flex-wrap: wrap;
    gap: 10px;

    background: #fff;
    padding: 10px 14px;

    border: 1px solid #e6efe1;
    border-bottom: 0;
    border-top-left-radius: 10px;
    border-top-right-radius: 10px;
  }
  .ql-toolbar .ql-formats { margin: 0 6px; }

  /* Vùng editor full width + padding đều 2 bên */
  .ql-container.ql-snow {
    border: 1px solid #e6efe1;
    border-top: 0;
    border-bottom-left-radius: 10px;
    border-bottom-right-radius: 10px;
  }
  .ql-editor {
    min-height: 200px;
    padding: 18px 26px;     /* ⬅️ đều 2 bên */
    text-align: center;     /* ⬅️ mặc định căn giữa */
  }
}
