/* ===== Page base ===== */
.page { padding: 16px; }

/* Header */
.header {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 12px;
  align-items: center;
  margin-bottom: 12px;
  background: linear-gradient(180deg, #d8efcf, #cdeac4);
  border: 1px solid #c8e2b9;
  border-radius: 8px;
  padding: 10px 12px;

  .title { font-weight: 700; font-size: 18px; color: #183d25; }
  .tools { display: flex; flex-wrap: wrap; gap: 8px; align-items: center; }
}

.cap { font-weight: 600; color:#1d3b29; }
.search, .inp {
  padding: 8px 10px; border: 1px solid #d9e4d6; border-radius: 8px; outline: none; background: #fff;
}
.search { min-width: 280px; }
.chk { display:flex; align-items:center; gap:6px; }
.sp { width:8px; }

/* Buttons */
.btn {
  border: 1px solid #cfd9cc; background: #f7faf6; padding: 6px 12px; border-radius: 10px; cursor: pointer; transition: .15s ease; font-weight: 600;
  &:hover { background: #eef6ea; }
  &:disabled { opacity:.5; cursor:not-allowed; }
  &.primary { background:#2bb24a; border-color:#2bb24a; color:#fff; }
  &.ghost { background:transparent; }
}

/* KPI strip */
.kpi-strip {
  display:grid; grid-template-columns: repeat(3, 1fr); gap:10px; margin-bottom:10px;
  .kpi {
    border:1px solid #e8eee6; border-radius:10px; background:#fff; padding:10px 12px;
    .cap { font-size:12px; color:#597060; }
    .val { font-weight:700; font-size:18px; color:#183d25; &.neg{ color:#a52828; } }
  }
}

/* Card container */
.card {
  background:#fff; border:1px solid #e8eee6; border-radius:10px; overflow:hidden; box-shadow:0 1px 4px rgba(0,0,0,.04);
}

/* Sections */
.section { border-top:1px solid #eef4ec; }
.section:first-child { border-top:none; }

.section-header {
  display:grid; grid-template-columns: auto 1fr auto; gap:12px; align-items:center;
  padding:10px 12px; background:#f5faf3; border-bottom:1px solid #e6efe1;

  .toggle {
    width:28px; height:28px; border-radius:8px; border:1px solid #d5e2d1; background:#fff; cursor:pointer; line-height:0; font-size:18px;
  }
  .name { font-weight:700; color:#1f3b2b; }
  .totals { display:flex; gap:12px; align-items:baseline;
    .cap { font-size:12px; color:#597060; }
    .val { font-weight:700; color:#183d25; }
  }
}

.lines { padding: 8px 8px 12px 8px; }

/* Grid */
.grid {
  width:100%; border-collapse: collapse;

  thead th {
    text-align:left; font-weight:700; font-size:13px; color:#1d3b28;
    background:#f5faf3; border-bottom:1px solid #e6efe1; padding:10px 12px;
  }
  tbody td, tfoot td {
    padding:10px 12px; border-bottom:1px solid #f1f4f0; vertical-align:middle;
  }
  tfoot tr td {
    background:#fbfefb; border-top:1px solid #e6efe1; font-weight:600;
  }
}

.text-end { text-align: end; }
.monospace { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; }
.cut { max-width: 480px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }

/* Summary row */
.summary {
  display:grid; grid-template-columns: 1fr 180px 180px 180px; align-items:center;
  border-top:1px dashed #e6efe1; padding:10px 12px; background:#fbfefb;
  .label { font-weight:700; color:#213f2d; }
  .val { text-align:right; font-weight:700; &.neg{ color:#a52828; } }
  &.strong { background:#f2f9ef; border-top:1px solid #e0edd9; }
}

/* Footer */
.footer { padding:10px 12px; font-size:12px; color:#49614f; background:#f9fcf8; }
